<!-- Loading State -->
<div *ngIf="cargando" class="loading-container">
    <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
    </div>
    <p class="loading-text">Cargando portafolio...</p>
</div>

<!-- Main Content -->
<div *ngIf="!cargando" class="portfolio-container">

    <!-- Header del Programador -->
    <header class="portfolio-header" *ngIf="programador">

        <div class="portfolio-header-main">

            <!-- Foto -->
            <div class="programmer-photo" *ngIf="programador.foto">
                <img [src]="programador.foto" [alt]="'Foto de ' + programador.nombre">
            </div>

            <div class="programmer-info">
                <div class="programmer-badge">
                    <i class="fas fa-code"></i>
                    <span>Desarrollador</span>
                </div>

                <h1 class="programmer-name">{{ programador.nombre }}</h1>

                <p class="programmer-specialty" *ngIf="programador.especialidad">
                    <i class="fas fa-laptop-code"></i>
                    {{ programador.especialidad }}
                </p>

                <p class="programmer-description">
                    {{ programador.descripcion }}
                </p>

                <div class="availability-status" *ngIf="programador.disponibilidad">
                    <i class="fas fa-circle"></i>
                    <span><strong>Disponibilidad:</strong> {{ programador.disponibilidad }}</span>
                </div>

                <!-- Botón para agendar asesoría -->
                <div class="actions">
                    <a *ngIf="programador.id" [routerLink]="['/asesoria', programador.id]" class="btn-agendar">
                        <i class="fas fa-calendar-check"></i>
                        Agendar asesoría
                    </a>
                </div>
            </div>
        </div>

        <!-- Contacto y redes -->
        <div class="programmer-contact">

            <div class="contact-item" *ngIf="programador.emailContacto">
                <i class="fas fa-envelope"></i>
                <a [href]="'mailto:' + programador.emailContacto">
                    {{ programador.emailContacto }}
                </a>
            </div>

            <div class="contact-item" *ngIf="programador.whatsapp">
                <i class="fab fa-whatsapp"></i>
                <a [href]="'https://wa.me/' + programador.whatsapp" target="_blank">
                    {{ programador.whatsapp }}
                </a>
            </div>

            <div class="social-links">
                <a *ngIf="programador.github" [href]="programador.github" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a>
                <a *ngIf="programador.linkedin" [href]="programador.linkedin" target="_blank">
                    <i class="fab fa-linkedin"></i> LinkedIn
                </a>
                <a *ngIf="programador.portafolio" [href]="programador.portafolio" target="_blank">
                    <i class="fas fa-globe"></i> Web
                </a>
            </div>

        </div>
    </header>

    <!-- Sección de Proyectos -->
    <main class="projects-container">

        <!-- Proyectos Académicos -->
        <section class="project-section academic">
            <div class="section-header">
                <div class="icon-wrapper">
                    <i class="fas fa-graduation-cap"></i>
                </div>
                <h2>Proyectos Académicos</h2>
                <span class="project-count">{{ proyectosAcademicos.length }} proyectos</span>
            </div>

            <div *ngIf="proyectosAcademicos.length === 0" class="empty-state">
                <i class="fas fa-book-open"></i>
                <p>Este programador aún no tiene proyectos académicos registrados.</p>
            </div>

            <div class="projects-grid">
                <div *ngFor="let p of proyectosAcademicos; let i = index" class="project-card" [@cardAnimation]="i">
                    <div class="project-header">
                        <h3>
                            <i class="fas fa-project-diagram"></i>
                            {{ p.nombre }}
                        </h3>
                        <span class="project-badge academic">Académico</span>
                    </div>

                    <p class="project-description">{{ p.descripcion }}</p>

                    <div class="project-details">
                        <div class="detail-item">
                            <i class="fas fa-user-tie"></i>
                            <div>
                                <strong>Rol:</strong>
                                <span>{{ p.tipoParticipacion | titlecase }}</span>
                            </div>
                        </div>

                        <div class="detail-item">
                            <i class="fas fa-code"></i>
                            <div>
                                <strong>Tecnologías:</strong>
                                <div class="tech-tags">
                                    <span *ngFor="let tech of p.tecnologias.split(',')" class="tech-tag">
                                        {{ tech.trim() }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="project-links" *ngIf="p.repoUrl || p.demoUrl">
                        <a *ngIf="p.repoUrl" [href]="p.repoUrl" target="_blank" class="project-link repo-link">
                            <i class="fab fa-github"></i>
                            Ver código
                        </a>
                        <a *ngIf="p.demoUrl" [href]="p.demoUrl" target="_blank" class="project-link demo-link">
                            <i class="fas fa-external-link-alt"></i>
                            Ver demo
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Proyectos Laborales -->
        <section class="project-section professional">
            <div class="section-header">
                <div class="icon-wrapper">
                    <i class="fas fa-briefcase"></i>
                </div>
                <h2>Proyectos Laborales</h2>
                <span class="project-count">{{ proyectosLaborales.length }} proyectos</span>
            </div>

            <div *ngIf="proyectosLaborales.length === 0" class="empty-state">
                <i class="fas fa-briefcase"></i>
                <p>Este programador aún no tiene proyectos laborales registrados.</p>
            </div>

            <div class="projects-grid">
                <div *ngFor="let p of proyectosLaborales; let i = index" class="project-card" [@cardAnimation]="i">
                    <div class="project-header">
                        <h3>
                            <i class="fas fa-briefcase"></i>
                            {{ p.nombre }}
                        </h3>
                        <span class="project-badge professional">Profesional</span>
                    </div>

                    <p class="project-description">{{ p.descripcion }}</p>

                    <div class="project-details">
                        <div class="detail-item">
                            <i class="fas fa-user-tie"></i>
                            <div>
                                <strong>Rol:</strong>
                                <span>{{ p.tipoParticipacion | titlecase }}</span>
                            </div>
                        </div>

                        <div class="detail-item">
                            <i class="fas fa-code"></i>
                            <div>
                                <strong>Tecnologías:</strong>
                                <div class="tech-tags">
                                    <span *ngFor="let tech of p.tecnologias.split(',')" class="tech-tag">
                                        {{ tech.trim() }}
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="project-links" *ngIf="p.repoUrl || p.demoUrl">
                        <a *ngIf="p.repoUrl" [href]="p.repoUrl" target="_blank" class="project-link repo-link">
                            <i class="fab fa-github"></i>
                            Ver código
                        </a>
                        <a *ngIf="p.demoUrl" [href]="p.demoUrl" target="_blank" class="project-link demo-link">
                            <i class="fas fa-external-link-alt"></i>
                            Ver demo
                        </a>
                    </div>
                </div>
            </div>
        </section>

    </main>
</div>