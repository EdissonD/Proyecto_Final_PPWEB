// ==========================================
// 1. Variables & Tokens de Diseño
// ==========================================
$primary-color: #2563eb; // Azul estándar moderno
$primary-hover: #1d4ed8; // Azul más oscuro para interacción
$text-main: #1f2937; // Gris oscuro (casi negro)
$text-secondary: #6b7280; // Gris medio para etiquetas/ayuda
$border-color: #e5e7eb; // Gris claro para bordes
$bg-input: #f9fafb; // Fondo muy sutil para inputs
$bg-card: #ffffff; // Fondo blanco para la tarjeta
$radius: 8px; // Bordes redondeados suaves
$shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

// ==========================================
// 2. Contenedor Principal
// ==========================================
:host {
    display: block;
    max-width: 650px; // Ancho óptimo para formularios (Ley de Miller)
    margin: 3rem auto;
    padding: 2.5rem;
    background-color: $bg-card;
    border-radius: $radius * 2; // Borde más redondeado para el contenedor
    box-shadow: $shadow;
    font-family: 'Inter', system-ui, sans-serif;
}

// ==========================================
// 3. Tipografía y Separadores
// ==========================================
h2 {
    font-size: 1.75rem;
    font-weight: 800;
    color: $text-main;
    text-align: center;
    margin-bottom: 2rem;
    letter-spacing: -0.025em;
}

h3 {
    font-size: 1.1rem;
    font-weight: 600;
    color: $text-main;
    margin: 1.5rem 0 1rem 0;
    display: flex;
    align-items: center;

    // Detalle visual: pequeña línea antes del subtítulo si quieres
    &::before {
        content: '';
        display: inline-block;
        width: 4px;
        height: 1.1rem;
        background-color: $primary-color;
        margin-right: 0.75rem;
        border-radius: 2px;
    }
}

hr {
    border: 0;
    height: 1px;
    background-color: $border-color;
    margin: 2rem 0;
}

// ==========================================
// 4. Estilos del Formulario
// ==========================================
form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem; // Espacio consistente entre campos

    // Wrapper de cada campo (div)
    >div {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }

    // Etiquetas
    label {
        font-size: 0.95rem;
        font-weight: 500;
        color: $text-main;
    }

    // Inputs, Textarea y Select unificados
    input[type="text"],
    textarea,
    select {
        padding: 0.75rem 1rem;
        font-size: 1rem;
        line-height: 1.5;
        color: $text-main;
        background-color: $bg-input;
        border: 1px solid $border-color;
        border-radius: $radius;
        transition: all 0.2s ease-in-out;
        width: 100%;
        box-sizing: border-box;

        // Placeholder
        &::placeholder {
            color: lighten($text-secondary, 20%);
        }

        // Estado Focus (Accesibilidad y UX)
        &:focus {
            outline: none;
            background-color: #fff;
            border-color: $primary-color;
            box-shadow: 0 0 0 3px rgba($primary-color, 0.15); // Anillo de enfoque
        }
    }

    // Ajustes específicos para Textarea
    textarea {
        resize: vertical; // Solo permitir redimensionar verticalmente
        min-height: 100px;
    }

    // Ajustes para Select (Flecha personalizada)
    select {
        appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 1rem center;
        background-size: 1.25rem;
        padding-right: 2.5rem;
        cursor: pointer;
    }

    // Texto de ayuda (.ayuda)
    .ayuda {
        font-size: 0.85rem;
        color: $text-secondary;
        margin-top: -0.5rem; // Acercarlo al input anterior o título
        margin-bottom: 0.5rem;
        font-style: italic;
    }

    // ==========================================
    // 5. Botón de Guardar
    // ==========================================
    button[type="submit"] {
        margin-top: 1.5rem;
        padding: 1rem;
        font-size: 1rem;
        font-weight: 600;
        color: white;
        background-color: $primary-color;
        border: none;
        border-radius: $radius;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 4px 6px -1px rgba($primary-color, 0.4);

        &:hover:not(:disabled) {
            background-color: $primary-hover;
            transform: translateY(-2px);
        }

        &:active:not(:disabled) {
            transform: translateY(0);
        }

        &:disabled {
            background-color: #cbd5e1; // Gris deshabilitado
            color: #94a3b8;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }
    }
}

// ==========================================
// 6. Responsividad
// ==========================================
@media (max-width: 600px) {
    :host {
        margin: 1rem;
        padding: 1.5rem; // Menos padding en móviles
    }

    h2 {
        font-size: 1.5rem;
    }
}