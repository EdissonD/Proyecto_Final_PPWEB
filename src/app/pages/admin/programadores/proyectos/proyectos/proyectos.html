<div class="proyectos-admin">

  <h2>Proyectos del programador</h2>

  <button type="button" (click)="nuevoProyecto()">Nuevo proyecto</button>

  <p *ngIf="cargando">Cargando...</p>

  <table *ngIf="!cargando && proyectos.length > 0; else sinProyectos">
    <thead>
      <tr>
        <th>Título</th>
        <th>Tecnologías</th>
        <th>Repo</th>
        <th>Demo</th>
        <th>Acciones</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let p of proyectos; trackBy: trackByProyecto">
        <td>{{ p.titulo }}</td>
        <td>{{ p.tecnologias }}</td>

        <td>
          <a *ngIf="p.urlRepo" [href]="p.urlRepo" target="_blank" rel="noopener">Repo</a>
          <span *ngIf="!p.urlRepo">-</span>
        </td>

        <td>
          <a *ngIf="p.urlDemo" [href]="p.urlDemo" target="_blank" rel="noopener">Demo</a>
          <span *ngIf="!p.urlDemo">-</span>
        </td>

        <td>
          <button type="button" (click)="editarProyecto(p.id)">Editar</button>
          <button type="button" (click)="eliminarProyecto(p.id)">Eliminar</button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #sinProyectos>
    <p *ngIf="!cargando">No hay proyectos registrados para este programador.</p>
  </ng-template>

</div>
