<h2>Asesorías recibidas</h2>

<div *ngIf="cargando">
    Cargando solicitudes...
</div>

<div *ngIf="!cargando && asesorias.length === 0">
    <p>No tienes solicitudes de asesoría por el momento.</p>
</div>

<div *ngIf="!cargando && asesorias.length > 0">

    <p>
        Tienes <strong>{{ pendientesCount }}</strong> solicitudes pendientes.
    </p>

    <table>
        <thead>
            <tr>
                <th>Solicitante</th>
                <th>Email</th>
                <th>Fecha</th>
                <th>Hora</th>
                <th>Comentario</th>
                <th>Estado</th>
                <th>Respuesta</th>
                <th>Acciones</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let a of asesorias">
                <td>{{ a.nombreSolicitante }}</td>
                <td>{{ a.emailSolicitante }}</td>
                <td>{{ a.fecha }}</td>
                <td>{{ a.hora }}</td>
                <td>{{ a.comentario || '-' }}</td>
                <td>{{ etiquetaEstado(a.estado) }}</td>
                <td>{{ a.respuestaProgramador || '-' }}</td>
                <td>
                    <button *ngIf="a.estado === 'pendiente'" (click)="cambiarEstado(a, 'aprobada')">
                        Aprobar
                    </button>
                    <button *ngIf="a.estado === 'pendiente'" (click)="cambiarEstado(a, 'rechazada')">
                        Rechazar
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</div>